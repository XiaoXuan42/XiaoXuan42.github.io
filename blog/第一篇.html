<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Password</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/private.css">
</head>

<body>
<div class="container">
<p id="ciphertext" hidden>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</p>
<input id="passwd_box" type="text" onkeydown="keydown()"/>
</div>
</body>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.js"></script>
<script type="text/javascript">
  function set_passwd_storage(value) {
    var date = new Date();
    var data = {
      value: value,
      expiry: date.getTime() + 3*30*24*60*60*1000
    };
    window.localStorage.setItem('_hi_private_XiaoXuan42.github.io_passwd', JSON.stringify(data));
  }
  function get_passwd_storage() {
    var data = window.localStorage.getItem('_hi_private_XiaoXuan42.github.io_passwd');
    if (data) {
      data = JSON.parse(data);
      var now = new Date();
      if (now.getTime() > data.expiry) {
        return null;
      } else {
        return data.value;
      }
    }
  }
  function submit_passwd(passwd) {
    try {
      var html_str = _decipher(passwd);
      _replace(html_str);
      set_passwd_storage(passwd);
      return true;
    } catch(error) {
      return false;
    }
  }
  function _decipher(passwd) {
    var ciphertext = document.getElementById('ciphertext').innerText;
    var plaintext = CryptoJS.AES.decrypt(ciphertext, passwd).toString(CryptoJS.enc.Utf8);
    return plaintext;
  }
  function _replace(html_str) {
    var html_tag = html_str.match(/<html>.*<\/html>/);
    if (!html_str.match(/<html>(.|\n)*<\/html>/)) {
      throw Error("Not a valid html file");
    }
    document.open();
    document.write(html_str);
    document.close();
  }
  window.onload = function() {
    var passwd = get_passwd_storage();
    if (passwd) {
      submit_passwd(passwd);
    }
  }
</script>
<script type="text/javascript">
function keydown() {
    if (event.keyCode === 13) {
        var i = document.getElementById('passwd_box');
        submit_passwd(i.value);
    }
}
</script>
</html>